## 基于Laravel多会员系统管理系统

````
基础提供多个会员系统同时运行（默认三个，可以再加），
插件添加删除，菜单管理，管理员管理等功能，可以在开始
各种项目时作为底层框架。
````
##　权限控制

####　登录判断中间件
````
登录判断使用中间件进行控制，中间件加载在路由表上。
````
####　访问中间件
````
验证不同级别管理员是否可以访问某个功能，使用中间件进行判断

**例如**：ManageAuth中，首先验证了是否登录，再进行访问权限鉴权，

鉴权过程如下：

１、获取当前访问的路由名->

２、是否管理员（是管理员跳过）－>

3、获取当前管理员可以访问的路由（在管理员分组设置）－>

４、是否全局默认路由（是则跳过，配置在config/site.php下的except_route字段）->

５、路由是否在菜单表中（找到则进行８）->

６、获取所有菜单下属路由(为保证重复请求效率，所有路由在第一次读取后，
进行redis缓存，缓存时间半小时，如果在这期间，菜单发生改变，redis将清除)－>

７、从下属路由找到主路由（未找到拒绝访问）->

8、进行鉴权->

9、鉴权完毕
````

## 基础功能

#### 管理员管理

>添加管理员

>> **介绍**：添加管理员，指派管理员所属的分组。

>> **限制**：添加操作的管理员不能把被添加的管理员指派到自己一级
的分组，只能添加子级。

>> **其他**：账号、邮箱唯一性检查；密码不填设置为默认密码；


> 管理员列表

>> **介绍**： 查看、操作下级管理员。

>> **操作**:编辑、删除管理员

>> **限制**：不允许修改自己，只能修改下级管理员

>> **更新管理员**：和添加的限制一致，这里密码不填为不修改

>> **删除管理员**:删除管理员，操作不可恢复

> 管理员分组

>> **介绍**：增加管理员分组

>> **操作**：添加分组、编辑、删除

>> **限制**：只能编辑自己的下级分组；只能分配自己拥有权限的菜单；不能删除成员不为空的分组

#### 插件管理

>添加插件

>> **介绍**：添加前后台插件

>前台插件

>> **介绍**：使用guard('users')用户验证

>后台插件

>> **介绍**：使用guard('manager')用户验证

#### 菜单管理（仅超级管理员用户可以访问）

>管理菜单

>> **介绍**：管理后台的左侧菜单增删改查


>添加菜单

>> **介绍**：添加菜单

>> **限制**：顶级栏目路由名称可以不填，其他子级一律填写路由名，调用时使用路由名称解析出url

>> **下属路由**：添加改栏目内的路由。例如：编辑、更新按钮的路由，否则栏目内路由将无法访问，具体查看权限系统介绍。

